// Generated by CoffeeScript 1.6.3
(function() {
  var ab, root, _register;

  root = this;

  ab = {};

  ab.getProp = function(property) {
    return false;
  };

  ab.set = function(options, registerKey) {
    var opt, rand, sum, _i, _len, _ref;
    if ((_ref = ab.getProp(registerKey))) {
      return _ref;
    }
    rand = Math.floor((Math.random() * 100) + 1);
    sum = 0;
    for (_i = 0, _len = options.length; _i < _len; _i++) {
      opt = options[_i];
      sum = sum + opt.share;
      if (rand <= sum) {
        if (registerKey != null) {
          _register(opt, registerKey);
        }
        return opt.value;
      }
    }
  };

  _register = function(opt, key) {
    var regObj, _ref;
    if (ab.register == null) {
      return;
    }
    regObj = {};
    regObj[key] = (_ref = opt.register) != null ? _ref : opt.value;
    return ab.register(regObj);
  };

  if (typeof define === "function" && define.amd) {
    define("ab", [], function() {
      return ab;
    });
  }

  if ((typeof module !== "undefined" && module !== null ? module.exports : void 0) != null) {
    module.exports = ab;
  }

}).call(this);
